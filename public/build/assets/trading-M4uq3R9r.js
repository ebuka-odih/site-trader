import{r as l,j as e,c as K}from"./client-C3EM7bU6.js";import{R as V,L as G,C as J,X as Z,Y as H,T as q,a as ee}from"./LineChart-xzejqWQ7.js";const re=(r=0,n=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n,maximumFractionDigits:n}).format(Number(r)),te=({asset:r,assetType:n,tradingBalance:S,currentPrice:a,onClose:p,onSuccess:M,allAssets:f=[],quickPicks:y=[]})=>{var I,Q;const[h,v]=l.useState("buy"),[d,D]=l.useState("market"),[m,w]=l.useState(""),[u,_]=l.useState(""),[j,P]=l.useState(""),[N,F]=l.useState(1),[R,A]=l.useState(!1),[B,k]=l.useState(""),[W,o]=l.useState(""),[U,g]=l.useState(!1),[T,L]=l.useState(""),[x,z]=l.useState(r);l.useEffect(()=>{if(d==="market"&&m&&a>0){const t=parseFloat(m);if(!isNaN(t)&&t>0){const b=t/a;_(b.toFixed(8).replace(/\.?0+$/,""))}else _("")}else m||_("")},[m,a,d]);const X=async t=>{var b;if(t.preventDefault(),k(""),o(""),d==="market"&&!m&&!u){k("Please enter either amount or quantity");return}if(d==="limit"&&(!j||!m||!u)){k("Please fill in all required fields for limit orders");return}A(!0);try{const i=x||r,s=new FormData;s.append("asset_type",i.type||n),s.append("symbol",i.symbol||r.symbol),s.append("side",h),s.append("order_type",d),s.append("leverage",N),d==="market"?(m&&s.append("amount",m),u&&s.append("quantity",u)):(s.append("price",j),m&&s.append("amount",m),u&&s.append("quantity",u));const c=(b=document.querySelector('meta[name="csrf-token"]'))==null?void 0:b.getAttribute("content"),O=await(await fetch("/user/live-trading",{method:"POST",body:s,headers:{"X-CSRF-TOKEN":c,Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();O.success?(o(O.message||"Trade placed successfully!"),setTimeout(()=>{M()},1e3)):k(O.message||"Failed to place trade. Please try again.")}catch(i){console.error("Error placing trade:",i),k("An error occurred while placing the trade. Please try again.")}finally{A(!1)}};return e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,margin:0,padding:"1rem",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"5vh",zIndex:9999,backgroundColor:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(12px)"},onClick:t=>t.target===t.currentTarget&&p(),children:[e.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-background shadow-xl overflow-hidden flex flex-col",style:{maxHeight:"80vh",margin:"0 auto",backgroundColor:"hsl(var(--background))",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[e.jsxs("div",{className:"px-6 py-5 border-b border-border flex items-start justify-between flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm uppercase font-bold tracking-wider mb-1 ${h==="buy"?"text-primary":"text-red-500"}`,children:h.toUpperCase()}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:((I=x||r)==null?void 0:I.name)||((Q=x||r)==null?void 0:Q.symbol)})]}),e.jsx("button",{onClick:p,className:"text-muted-foreground hover:text-foreground transition-colors p-1",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[e.jsx("path",{d:"M18 6 6 18"}),e.jsx("path",{d:"m6 6 12 12"})]})})]}),e.jsxs("form",{onSubmit:X,className:"flex-1 overflow-y-auto px-6 py-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 px-4 rounded-lg bg-card border border-border",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Trading Balance"}),e.jsx("span",{className:"text-base font-bold text-foreground",children:re(S)})]}),e.jsxs("button",{type:"button",onClick:()=>g(!0),className:"w-full rounded-lg border border-border bg-background px-4 py-3.5 text-left text-foreground flex items-center justify-between cursor-pointer hover:border-primary/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx("span",{className:"font-mono font-semibold",children:(x==null?void 0:x.symbol)||(r==null?void 0:r.symbol)}),e.jsx("span",{className:"text-muted-foreground truncate",children:(x==null?void 0:x.name)||(r==null?void 0:r.name)})]}),e.jsx("svg",{className:"w-5 h-5 text-muted-foreground flex-shrink-0 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>v("buy"),className:`rounded-lg px-4 py-3.5 font-semibold text-sm transition ${h==="buy"?"bg-primary text-black":"border border-border bg-background text-muted-foreground hover:bg-card"}`,children:"Buy"}),e.jsx("button",{type:"button",onClick:()=>v("sell"),className:`rounded-lg px-4 py-3.5 font-semibold text-sm transition ${h==="sell"?"bg-red-500 text-white":"border border-border bg-background text-muted-foreground hover:bg-card"}`,children:"Sell"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Order Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>D("market"),className:`rounded-full border-2 px-4 py-3 font-semibold text-sm transition ${d==="market"?"border-primary bg-transparent text-primary":"border-border bg-background text-foreground hover:border-foreground/20"}`,children:"Market"}),e.jsx("button",{type:"button",onClick:()=>D("limit"),className:`rounded-full border-2 px-4 py-3 font-semibold text-sm transition ${d==="limit"?"border-primary bg-transparent text-primary":"border-border bg-background text-foreground hover:border-foreground/20"}`,children:"Limit"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",step:"1",value:m,onChange:t=>w(t.target.value),className:"w-full rounded-lg border border-border bg-background px-4 py-3.5 text-foreground placeholder-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter amount"}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex flex-col gap-0.5",children:[e.jsx("button",{type:"button",onClick:()=>w(((parseInt(m)||0)+10).toString()),className:"text-muted-foreground hover:text-foreground p-0.5",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})})}),e.jsx("button",{type:"button",onClick:()=>w(Math.max(0,(parseInt(m)||0)-10).toString()),className:"text-muted-foreground hover:text-foreground p-0.5",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Quantity"}),e.jsx("input",{type:"text",readOnly:!0,value:u||"",className:"w-full rounded-lg border border-border bg-background px-4 py-3.5 text-foreground font-medium placeholder-muted-foreground cursor-not-allowed",placeholder:"Calculated automatically"})]}),d==="limit"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Price"}),e.jsx("input",{type:"number",min:"0",step:"1",value:j,onChange:t=>P(t.target.value),className:"w-full rounded-lg border border-border bg-background px-4 py-3.5 text-foreground placeholder-muted-foreground focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter price"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Leverage"}),e.jsxs("span",{className:"text-lg font-bold text-primary",children:[N,"x"]})]}),e.jsxs("div",{className:"relative px-1",children:[e.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:N,onChange:t=>F(parseInt(t.target.value)),className:"w-full h-2 bg-border rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${(N-1)/49*100}%, hsl(var(--border)) ${(N-1)/49*100}%, hsl(var(--border)) 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2 px-1",children:[e.jsx("span",{children:"1x"}),e.jsx("span",{children:"50x"})]})]}),N>1&&e.jsxs("div",{className:"rounded-lg border border-orange-500/30 bg-orange-500/10 px-4 py-3 text-sm text-orange-300",children:["Leverage ×",N," will create a futures position. Liquidation risk applies."]})]}),B&&e.jsx("div",{className:"rounded-lg border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-300",children:B}),W&&e.jsx("div",{className:"rounded-lg border border-primary/30 bg-primary/10 px-4 py-3 text-sm text-primary",children:W}),e.jsx("button",{type:"submit",disabled:R,className:`w-full rounded-full py-4 text-base font-bold transition flex items-center justify-center gap-2 ${h==="buy"?"bg-primary text-black hover:opacity-90":"bg-red-500 text-white hover:opacity-90"} disabled:opacity-50 disabled:cursor-not-allowed`,children:R?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"h-5 w-5 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):`Place ${h.charAt(0).toUpperCase()+h.slice(1)} Order`})]})]}),U&&e.jsx("div",{className:"fixed inset-0 z-[10000] flex items-start justify-center bg-black/80 p-4",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4,paddingTop:"10vh",alignItems:"flex-start"},onClick:t=>t.target===t.currentTarget&&g(!1),children:e.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-border bg-background max-h-[75vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Select Asset"}),e.jsx("button",{type:"button",onClick:()=>g(!1),className:"text-muted-foreground hover:text-foreground",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:T,onChange:t=>L(t.target.value),placeholder:"Search by symbol or name...",className:"w-full rounded-xl border border-border bg-background px-4 py-2 pl-10 text-foreground placeholder-muted-foreground focus:border-primary focus:outline-none"}),e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[y&&y.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"Quick Picks"}),e.jsx("div",{className:"space-y-2",children:y.filter(t=>{var i,s;if(!T)return!0;const b=T.toLowerCase();return((i=t.symbol)==null?void 0:i.toLowerCase().includes(b))||((s=t.name)==null?void 0:s.toLowerCase().includes(b))}).map(t=>{const b=((x==null?void 0:x.symbol)||(r==null?void 0:r.symbol))===t.symbol;return e.jsxs("button",{type:"button",onClick:()=>{z(t),g(!1),L(""),window.location.href=`/user/live-trading/trade?asset_type=${t.type}&symbol=${t.symbol}`},className:`w-full rounded-xl border px-4 py-3 text-left transition flex items-center justify-between ${b?"border-primary bg-primary/10":"border-border bg-background hover:bg-primary/10 hover:border-primary/30"}`,children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-semibold text-foreground",children:[t.symbol," ",t.name]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${t.type==="crypto"?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}`,children:t.type}),b&&e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]})]},t.symbol)})})]}),f&&f.length>0&&(()=>{const b=f.filter(i=>{var c,$;if(!T)return!0;const s=T.toLowerCase();return((c=i.symbol)==null?void 0:c.toLowerCase().includes(s))||(($=i.name)==null?void 0:$.toLowerCase().includes(s))}).reduce((i,s)=>{const c=s.type||"other";return i[c]||(i[c]=[]),i[c].push(s),i},{});return Object.keys(b).length>0?e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:"All Assets"}),Object.entries(b).map(([i,s])=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-xs font-semibold text-muted-foreground mb-2 uppercase",children:i==="crypto"?"Cryptocurrencies":i==="stock"?"Stocks":i==="etf"?"ETFs":i}),e.jsx("div",{className:"space-y-2",children:s.map(c=>{const $=((x==null?void 0:x.symbol)||(r==null?void 0:r.symbol))===c.symbol;return e.jsxs("button",{type:"button",onClick:()=>{z(c),g(!1),L(""),window.location.href=`/user/live-trading/trade?asset_type=${c.type}&symbol=${c.symbol}`},className:`w-full rounded-xl border px-4 py-3 text-left transition flex items-center justify-between ${$?"border-primary bg-primary/10":"border-border bg-background hover:bg-primary/10 hover:border-primary/30"}`,children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"font-semibold text-foreground",children:[c.symbol," ",c.name]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${c.type==="crypto"?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}`,children:c.type}),$&&e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})]})]},c.symbol)})})]},i))]}):null})(),(!y||y.length===0)&&(!f||f.length===0)&&e.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"No assets available"})]})]})})]})},Y="#00ff63",C=(r=0,n=2)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:n,maximumFractionDigits:n}).format(Number(r)),oe=(r,n=283.32)=>{const S=[];let a=50,p=1;switch(r){case"1D":a=48,p=1;break;case"1W":a=28,p=7;break;case"1M":a=30,p=30;break;case"3M":a=90,p=90;break;case"1Y":a=365,p=365;break;case"All":a=500,p=1e3;break}const M=new Date,f=n*.08;let y=n,h=n;for(let v=a;v>=0;v--){const d=new Date(M);d.setDate(d.getDate()-p*v/a);const D=(Math.random()-.5)*f*.3,m=(a-v)/a*f*.2;h=h*.7+(n+m)*.3;const w=y*.85+(h+D)*.15;y=w,S.push({date:d.toISOString(),value:Math.max(w,n*.7),label:r==="1D"?d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):d.toLocaleDateString("en-US",{month:"short",day:"numeric"})})}return S},ne=({active:r,payload:n})=>{if(!r||!(n!=null&&n.length))return null;const S=n[0].value;return e.jsx("div",{className:"bg-black/90 border border-primary/30 rounded-lg px-3 py-2",children:e.jsx("p",{className:"text-primary font-bold text-sm",children:C(S)})})},se=({asset:r,assetType:n,user:S,tradeHistory:a=[],relatedAssets:p=[],allAssets:M=[],quickPicks:f=[],tradingBalance:y=0})=>{const h=Array.isArray(M)?M:[],v=Array.isArray(f)?f:[],[d,D]=l.useState("3M"),[m,w]=l.useState([]),[u,_]=l.useState((r==null?void 0:r.current_price)||0),[j,P]=l.useState((r==null?void 0:r.price_change_24h)||0),[N,F]=l.useState(!1),[R,A]=l.useState(!1);l.useEffect(()=>{const o=oe(d,u);w(o)},[d,u]),l.useEffect(()=>{if(!(r!=null&&r.symbol)||!n)return;const o=async()=>{A(!0);try{const g=new URL("/user/live-trading/price",window.location.origin);g.searchParams.set("asset_type",n),g.searchParams.set("symbol",r.symbol);const L=await(await fetch(g.toString())).json();L.success&&(_(parseFloat(L.price)||u),P(parseFloat(L.change_24h)||j))}catch(g){console.error("Error fetching price:",g)}finally{A(!1)}};o();const U=setInterval(o,6e4);return()=>clearInterval(U)},[r==null?void 0:r.symbol,n]);const B=l.useMemo(()=>!u||u===0?0:(j/(u-j)*100).toFixed(2),[u,j]),k=j>=0,W=["1D","1W","1M","3M","1Y","All"];return e.jsxs("div",{className:"h-full will-change-transform overflow-visible",style:{opacity:1,transform:"none"},children:[e.jsxs("div",{className:"p-6 space-y-6 animate-slide-up pb-24 overflow-visible",style:{paddingTop:"max(1.5rem, calc(1.5rem + env(safe-area-inset-top)))"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("a",{href:"/terminal",children:e.jsx("button",{className:"inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 border border-transparent min-h-8 rounded-md px-3 text-xs h-8",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-left h-4 w-4",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]})})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"● 24 Hour Market"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase font-bold text-muted-foreground tracking-widest",children:(r==null?void 0:r.symbol)||"N/A"}),e.jsx("h1",{className:"text-3xl font-black text-foreground",children:(r==null?void 0:r.name)||"Unknown Asset"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("p",{className:"text-4xl font-black text-foreground font-mono",children:C(u)}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-bold transition-all duration-500 ${k?"bg-primary/20 text-primary":"bg-red-500/20 text-red-500"}`,children:[k?"▲":"▼"," ",C(Math.abs(j))," (",B,"%) Today"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"24 Hour Market"})]}),e.jsx("div",{className:"h-80 -mx-6",children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(G,{data:m,margin:{top:20,right:20,left:20,bottom:20},children:[e.jsx(J,{strokeDasharray:"3 3",stroke:"#1a1a1a",horizontal:!0,vertical:!1,opacity:.3}),e.jsx(Z,{dataKey:"label",stroke:"#666",tick:{fill:"#666",fontSize:10},axisLine:!1,tickLine:!1,interval:"preserveStartEnd",tickMargin:8}),e.jsx(H,{hide:!0,domain:["auto","auto"]}),e.jsx(q,{content:e.jsx(ne,{})}),e.jsx(ee,{type:"basis",dataKey:"value",stroke:Y,strokeWidth:2.5,dot:!1,activeDot:{r:4,fill:Y,strokeWidth:2,stroke:"#000"},isAnimationActive:!0,animationDuration:1200,connectNulls:!1})]})})}),e.jsx("div",{className:"flex items-center justify-center gap-2 -mx-6 px-6 pb-2 overflow-visible",children:e.jsx("div",{className:"flex gap-2 w-full justify-center flex-nowrap overflow-visible",children:W.map(o=>e.jsx("button",{onClick:()=>D(o),className:`px-3 py-2 rounded-full font-bold text-sm whitespace-nowrap transition-all flex-shrink-0 ${d===o?"bg-primary text-black":"text-muted-foreground hover:text-foreground"}`,children:o},o))})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-base font-bold text-foreground",children:"Quick Trade"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Individual"})]}),e.jsxs("button",{onClick:()=>F(!0),className:"w-full border-2 border-primary rounded-full py-3 px-4 font-bold text-primary hover:bg-primary/10 transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus w-4 h-4 mr-2 inline",children:[e.jsx("path",{d:"M5 12h14"}),e.jsx("path",{d:"M12 5v14"})]}),"Buy ",(r==null?void 0:r.symbol)||"Asset"]})]}),p&&p.length>0&&e.jsx("div",{className:"space-y-2",children:p.slice(0,4).map(o=>e.jsxs("a",{href:`/user/live-trading/trade?asset_type=${o.type}&symbol=${o.symbol}`,className:"flex items-center justify-between py-3 px-4 rounded-lg hover:bg-card transition-colors cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-foreground text-sm",children:o.symbol}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:o.name})]}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-arrow-left w-5 h-5 text-muted-foreground rotate-180 flex-shrink-0",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]})]},o.symbol))}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-base font-bold text-foreground",children:["About ",(r==null?void 0:r.name)||"Asset"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Info"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:[(r==null?void 0:r.name)||"Asset"," is actively trading in the market. Monitor key stats, set price alerts, and execute trades with precision."]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"rounded-lg border border-border p-4 hover:bg-card transition-colors text-left min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Market Cap"}),e.jsx("p",{className:"text-sm font-bold text-foreground break-all",title:r!=null&&r.market_cap?C(r.market_cap,0):"N/A",children:r!=null&&r.market_cap?C(r.market_cap,0):"N/A"})]}),e.jsxs("button",{className:"rounded-lg border border-border p-4 hover:bg-card transition-colors text-left min-w-0",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Volume (24h)"}),e.jsx("p",{className:"text-sm font-bold text-foreground break-all",title:r!=null&&r.volume_24h?C(r.volume_24h,0):"N/A",children:r!=null&&r.volume_24h?C(r.volume_24h,0):"N/A"})]})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-border pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase font-bold text-primary tracking-widest",children:"Activity"}),e.jsx("p",{className:"text-base font-bold text-foreground mt-2",children:"Recent Trades"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(a==null?void 0:a.length)||0," shown"]})]}),a&&a.length>0?e.jsx("div",{className:"space-y-2",children:a.map(o=>e.jsx("div",{className:"rounded-lg border border-border p-4 hover:bg-card transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:`text-sm font-bold ${o.side==="buy"?"text-primary":"text-red-500"}`,children:[o.side.toUpperCase()," • ",o.symbol]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.order_type," • ",new Date(o.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-base font-bold text-foreground",children:C(o.amount)}),e.jsx("p",{className:`text-xs ${o.status==="filled"?"text-primary":"text-muted-foreground"}`,children:o.status})]})]})},o.id))}):e.jsx("button",{className:"rounded-lg border border-dashed border-border p-4 hover:bg-card transition-colors text-center cursor-pointer w-full",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"No trades yet for this asset. Your activity will appear here once you place an order."})})]})]}),N&&e.jsx(te,{asset:r,assetType:n,tradingBalance:y,currentPrice:u,allAssets:h,quickPicks:v,onClose:()=>F(!1),onSuccess:()=>{F(!1),window.location.reload()}})]})},E=document.getElementById("react-trading-page");if(E){const r=E.dataset.props?JSON.parse(E.dataset.props):{};K.createRoot(E).render(e.jsx(se,{...r}))}
