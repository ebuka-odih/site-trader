import{r as v,j as e,c as Y}from"./client-C3EM7bU6.js";import{R as F,L as _,C as B,X as O,Y as U,T as q,a as G}from"./LineChart-xzejqWQ7.js";const E="#00ff63",J=({active:n,payload:s,label:a})=>{if(!n||!(s!=null&&s.length))return null;const t=s[0].value,o=typeof t=="number"?new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t):t;return e.jsxs("div",{className:"recharts-default-tooltip",style:{margin:0,padding:"10px",backgroundColor:"rgba(10, 10, 10, 0.9)",border:"1px solid hsl(var(--border))",whiteSpace:"nowrap",borderRadius:"var(--radius)"},children:[e.jsx("p",{className:"recharts-tooltip-label",style:{margin:0,color:"rgb(0, 255, 0)"},children:a}),e.jsx("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0},children:e.jsxs("li",{className:"recharts-tooltip-item",style:{display:"block",paddingTop:"4px",paddingBottom:"4px",color:"rgb(0, 255, 0)"},children:[e.jsx("span",{className:"recharts-tooltip-item-name",children:"PNL"}),e.jsx("span",{className:"recharts-tooltip-item-separator",children:" : "}),e.jsxs("span",{className:"recharts-tooltip-item-value",children:["$",o]})]})})]})},K=()=>e.jsxs("div",{className:"w-full h-64 bg-black rounded-2xl relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-[#00ff63] border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Loading portfolio data..."})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-[#00ff63]/5 to-transparent animate-shimmer"})]}),X=({chartData:n={},currentBalance:s=0,timeframes:a=["LIVE","1D","1W","1M","3M","YTD","1Y"]})=>{const[t,o]=v.useState("LIVE"),[i,x]=v.useState(!0),[l,f]=v.useState([]),d=v.useMemo(()=>{if(!n||typeof n!="object")return[];const p="pnl";return n[p]?Object.keys(n[p]):[]},[n]),u=v.useMemo(()=>{var w;if(!n||typeof n!="object")return null;const b=(w=n["pnl"])==null?void 0:w[t];if(!b||!b.labels||!b.data)return null;const c=b.data,N=b.labels;return c.length===0||N.length===0?null:N.map((k,r)=>({label:k,value:c[r]??0,timestamp:Date.now()-(c.length-r)*864e5})).filter(k=>k.value>0)},[n,t]),h=v.useMemo(()=>{const p=new Date,b=[],c=parseFloat(String(s).replace(/[^0-9.-]+/g,"")||"0")||0;if(c<=0)return[];const N=c*.8,w=c,k=w-N;let r,y;switch(t){case"LIVE":r=31,y=1;break;case"1D":r=2,y=1;break;case"1W":r=7,y=1;break;case"1M":r=5,y=7;break;case"3M":r=91,y=1;break;case"YTD":r=p.getMonth()+1,y=30;break;case"1Y":r=366,y=1;break;default:r=31,y=1}for(let M=0;M<r;M++){let m=new Date(p);if(t==="YTD")m.setMonth(m.getMonth()-(r-1-M)),M<r-1&&m.setDate(1);else if(t==="1M"){const A=(r-1-M)*7;m.setDate(m.getDate()-A)}else{const A=(r-1-M)*y;m.setDate(m.getDate()-A)}m.setHours(0,0,0,0);const I=M/(r-1),V=1-Math.pow(1-I,2),R=N+k*V,T=Math.sin((M+123)*.5)*.015*w,z=Math.max(N*.95,R+T);let W;if(t==="1W")W=m.toLocaleDateString("en-US",{weekday:"short"});else if(t==="YTD")W=m.toLocaleDateString("en-US",{month:"short"});else{const A=m.toLocaleDateString("en-US",{month:"short"}),H=m.getDate();W=`${A} ${H}`}b.push({label:W,value:M===r-1?w:z,timestamp:m.getTime()})}return b},[t,s]);v.useEffect(()=>{d.length>0&&!d.includes(t)&&(t!=="LIVE"||!a.includes("LIVE"))&&o(d[0])},[]),v.useEffect(()=>{x(!0);const p=setTimeout(()=>{const b=u||h;if(b&&b.length>0){const c=[...b];s>0&&c.length>0&&(c[c.length-1]={...c[c.length-1],value:s}),f(c)}else f([]);x(!1)},200);return()=>clearTimeout(p)},[u,h,t,s]);const{minValue:j,maxValue:L}=v.useMemo(()=>{if(l.length===0){const m=s||1e3;return{minValue:m*.8,maxValue:m*1.05}}const p=l.map(m=>m.value).filter(m=>m>0);if(p.length===0){const m=s||1e3;return{minValue:m*.8,maxValue:m*1.05}}const b=Math.min(...p),c=Math.max(...p),N=c-b,w=Math.max(N*.05,b*.02),k=Math.max(N*.05,c*.02),r=Math.max(0,b-w),y=c+k;return{minValue:s>0&&r>=s*.85?s*.7:r,maxValue:y}},[l,s]),S=[Math.max(0,j),L],g=v.useMemo(()=>t==="1D"?{interval:0,angle:0,textAnchor:"middle",height:30}:t==="1W"?{interval:0,angle:0,textAnchor:"middle",height:30}:t==="LIVE"?{interval:4,angle:0,textAnchor:"middle",height:35}:t==="1M"?{interval:0,angle:0,textAnchor:"middle",height:35}:t==="3M"?{interval:14,angle:0,textAnchor:"middle",height:35}:t==="1Y"?{interval:29,angle:0,textAnchor:"middle",height:35}:t==="YTD"?{interval:0,angle:0,textAnchor:"middle",height:30}:{interval:"preserveStartEnd",angle:0,textAnchor:"middle",height:30},[t]);return i?e.jsx(K,{}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-full h-64 bg-black rounded-2xl relative overflow-hidden focus:outline-none focus:ring-0",style:{outline:"none",border:"none"},tabIndex:-1,children:e.jsxs("div",{className:"absolute inset-0 p-2 focus:outline-none",style:{outline:"none"},children:[e.jsx("style",{children:`
                        .recharts-wrapper:focus,
                        .recharts-wrapper:focus-visible,
                        .recharts-responsive-container:focus,
                        .recharts-responsive-container:focus-visible,
                        .recharts-surface:focus,
                        .recharts-surface:focus-visible,
                        .recharts-line:focus,
                        .recharts-line:focus-visible,
                        .recharts-line-curve:focus,
                        .recharts-line-curve:focus-visible,
                        .recharts-active-dot:focus,
                        .recharts-active-dot:focus-visible,
                        .recharts-dot:focus,
                        .recharts-dot:focus-visible {
                            outline: none !important;
                            border: none !important;
                            box-shadow: none !important;
                        }
                        .recharts-wrapper,
                        .recharts-line,
                        .recharts-line-curve,
                        .recharts-active-dot,
                        .recharts-dot {
                            outline: none !important;
                            border: none !important;
                        }
                        .recharts-line-curve {
                            cursor: crosshair !important;
                        }
                    `}),e.jsx(F,{width:"100%",height:"100%",children:e.jsxs(_,{data:l,margin:{top:5,right:10,left:5,bottom:g.angle!==0?50:t==="LIVE"||t==="1M"||t==="1Y"?35:25},children:[e.jsx(B,{strokeDasharray:"3 3",stroke:"#1a1a1a",horizontal:!0,vertical:!1,strokeOpacity:.5}),e.jsx(O,{dataKey:"label",stroke:"#666",tick:{fill:"#666",fontSize:10},axisLine:!1,tickLine:!1,interval:g.interval,tickMargin:10,angle:g.angle,textAnchor:g.textAnchor,height:g.height,minTickGap:t==="LIVE"?50:void 0,allowDuplicatedCategory:!1}),e.jsx(U,{hide:!0,domain:S,allowDataOverflow:!1}),e.jsx(q,{content:e.jsx(J,{}),cursor:{stroke:E,strokeWidth:1,strokeDasharray:"0",opacity:.5,pointerEvents:"none"},animationDuration:400,allowEscapeViewBox:{x:!0,y:!0},wrapperStyle:{outline:"none",pointerEvents:"auto",zIndex:1e3},shared:!1}),e.jsx(G,{type:"monotone",dataKey:"value",stroke:E,strokeWidth:2,dot:!1,isAnimationActive:!0,animationDuration:1200,animationEasing:"ease-out",activeDot:{r:4,fill:E,strokeWidth:2,stroke:"#fff",className:"recharts-dot"},connectNulls:!1})]})})]})}),e.jsx("div",{className:"grid grid-cols-7 gap-2 pb-1",children:a.map(p=>{const b=p===t;return e.jsx("button",{type:"button",onClick:c=>{c.preventDefault(),c.stopPropagation(),o(p)},className:`inline-flex items-center justify-center gap-2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-[#00ff63] disabled:pointer-events-none disabled:opacity-50 border shadow-xs active:shadow-none min-h-8 rounded-md px-2 text-xs h-7 font-semibold whitespace-nowrap transition-all duration-200 ${b?"bg-[#00ff63] text-black border-[#00ff63]":"bg-[#1a1a1a] border-[#1a1a1a] text-white hover:border-[#00ff63]/50 hover:bg-[#1f1f1f]"}`,"data-testid":`button-period-${p.toLowerCase()}`,children:p},p)})})]})},$=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5 text-[#00ff63]",children:[e.jsx("path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}),e.jsx("path",{d:"m9 11 3 3L22 4"})]}),C=(n=0)=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(n)),D=(n,s)=>n?"***":s,Q=({investingTab:n,walletTab:s,isBalanceHidden:a,onToggleBalanceVisibility:t})=>e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{type:"button",className:"border-2 rounded-lg p-2.5 flex flex-col justify-between cursor-pointer relative overflow-hidden group animate-slide-up border-[#00ff63] bg-[#00ff63]/5 transition-all duration-300 hover:scale-105",style:{transition:"0.3s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:n.label||"Investing"}),e.jsx("button",{type:"button",onClick:t,className:"cursor-pointer hover:opacity-80 transition-opacity","aria-label":a?"Show balance":"Hide balance",children:e.jsx($,{})})]}),e.jsxs("div",{className:"group-hover:scale-105 transition-transform duration-300",children:[e.jsx("p",{className:"text-base font-bold font-mono text-[#00ff63]",children:D(a,n.balance)}),e.jsx("p",{className:`text-xs ${n.isPositive?"text-[#00ff63]":"text-red-400"}`,children:a?"***":n.change||"+0.00%"})]})]}),e.jsxs("button",{type:"button",className:"border-2 rounded-lg p-2.5 flex flex-col justify-between cursor-pointer relative overflow-hidden group animate-slide-up border-[#00ff63] bg-[#00ff63]/5 transition-all duration-300 hover:scale-105",style:{transition:"0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",animationDelay:"0.1s"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:s.label||"Wallet Balance"}),e.jsx("button",{type:"button",onClick:t,className:"cursor-pointer hover:opacity-80 transition-opacity","aria-label":a?"Show balance":"Hide balance",children:e.jsx($,{})})]}),e.jsx("div",{className:"group-hover:scale-105 transition-transform duration-300",children:e.jsx("p",{className:"text-base font-bold font-mono text-[#00ff63]",children:D(a,s.balance)})})]})]}),Z=({profit:n,profitChange:s,profitIsPositive:a,isBalanceHidden:t})=>{const i=(l=>{if(!l||t)return{amount:"$0.00",percentage:"(0%)"};const f=l.match(/\$([\d,]+\.?\d*)\s*\(([+-]?[\d.]+%)\)/);return f?{amount:`$${f[1]}`,percentage:`(${f[2]})`}:l.includes("%")?{amount:"$0.00",percentage:l.startsWith("+")||l.startsWith("-")?`(${l})`:l}:{amount:"$0.00",percentage:"(0%)"}})(s),x=a??!0;return e.jsxs("div",{className:"px-0 sm:px-1",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 mb-2 tracking-widest",children:"PNL"}),e.jsx("p",{className:"text-3xl font-bold text-white font-mono",children:D(t,n)}),!t&&s&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x?e.jsx("svg",{className:"w-4 h-4 text-[#00ff63]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}):e.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),e.jsxs("p",{className:`text-sm font-semibold ${x?"text-[#00ff63]":"text-red-400"}`,children:[i.amount," ",i.percentage]})]})]})},ee=({buyingPower:n,isBalanceHidden:s})=>e.jsx("div",{className:"rounded-xl border bg-[#0a0a0a] text-white shadow-sm border-[#1a1a1a]",children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400",children:"Buying Power"}),e.jsx("p",{className:"text-sm font-bold text-white font-mono",children:D(s,C(n))})]})})}),te=({watchlist:n=[]})=>{const s=(i,x,l)=>{const d=[],u=Math.abs(x*1e3)%1e3,h=l*123,j=u+h,L=Math.min(40,Math.abs(x)*30),S=i?1:-1;let g=40+j%20;for(let w=0;w<20;w++){const k=w/19,r=g+L*S*k,y=Math.sin(w*.3+j*.1)*5,M=Math.sin(w*.7+j*.2)*3,m=Math.sin((w+j)*2.7)*4;g=r+y+M+m,g=Math.max(12,Math.min(88,g)),d.push(g)}const p=Math.min(...d),c=Math.max(...d)-p||1;return d.map(w=>12+(w-p)/c*76)},o=()=>{window.location.href="/user/assets-directory?type=stock"};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center px-1 mb-2",children:[e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 tracking-widest",children:"Watchlist"}),e.jsx("button",{type:"button",className:"text-xs text-[#00ff63] cursor-pointer hover:underline",onClick:o,children:"Add favorite"})]}),e.jsx("div",{className:"space-y-2",children:(n||[]).slice(0,5).map((i,x)=>{const l=i.price||0,f=i.change||0,d=i.change_percentage||f/(l-f)*100||0,u=f>=0,h=s(u,d,x);return e.jsx("div",{className:"rounded-xl border bg-[#1a1a1a] text-white shadow-sm border-[#1a1a1a] hover:border-[#00ff63]/30 transition-colors cursor-pointer",children:e.jsx("div",{className:"p-2.5",children:e.jsxs("div",{className:"flex items-center justify-between gap-1.5",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-bold text-white text-sm truncate",children:i.symbol||"N/A"}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:i.name||"â€”"})]}),e.jsx("div",{className:"w-12 h-6 flex-shrink-0 overflow-hidden",style:{maxWidth:"48px",maxHeight:"24px"},children:e.jsxs("svg",{width:48,height:24,viewBox:"0 0 48 24",style:{display:"block",width:"100%",height:"100%",maxWidth:"48px",maxHeight:"24px"},preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsx("clipPath",{id:`chart-clip-${x}`,children:e.jsx("rect",{x:"5",y:"5",height:"14",width:"38"})})}),e.jsx("g",{clipPath:`url(#chart-clip-${x})`,children:e.jsx("polyline",{points:h.map((j,L)=>{const S=5+L/(h.length-1)*38,g=19-j/100*14;return`${S},${g}`}).join(" "),fill:"none",stroke:u?"#00ff63":"#ef4444",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("div",{className:`px-2 py-0.5 rounded-lg text-xs font-bold whitespace-nowrap ${u?"bg-[#00ff63]/20 text-[#00ff63]":"bg-red-400/20 text-red-400"}`,children:["$",typeof l=="number"?l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}):l]}),e.jsxs("p",{className:`text-xs mt-0.5 font-semibold ${u?"text-[#00ff63]":"text-red-400"}`,children:[u?"+":"",d.toFixed(2),"%"]})]})]})})},`${i.symbol}-${x}`)})}),(!n||n.length===0)&&e.jsx("div",{className:"rounded-lg bg-[#1a1a1a] p-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-400",children:"No items in watchlist"})})]})},se=({activity:n=[]})=>{const s=t=>typeof t=="number"?C(Math.abs(t)):t||"$0.00",a=t=>{switch(t){case"deposit":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#00ff63]/20 text-[#00ff63]",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})});case"withdrawal":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-500/20 text-red-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})});case"trade_profit":case"trade":return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-500/20 text-blue-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})});default:return e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-500/20 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})})})}};return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-center px-1",children:e.jsx("p",{className:"text-xs uppercase font-semibold text-gray-400 tracking-widest",children:"Recent Activity"})}),e.jsxs("div",{className:"rounded-xl border bg-[#0a0a0a] text-white shadow-sm border-[#1a1a1a]",children:[e.jsx("div",{className:"p-3 space-y-4",children:(n||[]).slice(0,5).map((t,o)=>{const i=t.amount||0,x=i>=0,l=t.formatted_amount||s(i);return e.jsxs("div",{className:`flex items-center justify-between ${o<Math.min(n.length-1,4)?"border-b border-[#1a1a1a] pb-4":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[a(t.type),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:t.title||ne(t.type||"activity")}),e.jsx("p",{className:"text-xs text-gray-400",children:t.time_ago||"Just now"})]})]}),e.jsxs("span",{className:`text-sm font-semibold ${x?"text-[#00ff63]":"text-red-400"}`,children:[x?"+":"",l]})]},`activity-${o}`)})}),(!n||n.length===0)&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-[#1a1a1a]",children:e.jsx("svg",{className:"h-6 w-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsx("p",{className:"text-sm text-gray-400",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your transactions will appear here"})]})]})]})},ne=n=>n?n.charAt(0).toUpperCase()+n.slice(1):"",ae=()=>{const n=v.useRef(null),s=v.useRef(`tradingview-news-${Date.now()}-${Math.random().toString(36).substr(2,9)}`);return v.useEffect(()=>{if(!n.current)return;const a=n.current;a.innerHTML="";const t=document.createElement("div");t.className="tradingview-widget-container",t.id=s.current,t.style.width="100%",t.style.height="600px",t.style.border="none",t.style.background="transparent";const o=document.createElement("div");o.className="tradingview-widget-container__widget",o.style.height="100%",o.style.width="100%",o.style.border="none",o.style.background="transparent",t.appendChild(o),a.appendChild(t);const i=document.createElement("script");i.type="text/javascript",i.src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js",i.async=!0,i.innerHTML=JSON.stringify({feedMode:"all_symbols",colorTheme:"dark",isTransparent:!0,displayMode:"regular",width:"100%",height:600,locale:"en"}),o.appendChild(i);const x=()=>{a.querySelectorAll(".tradingview-widget-copyright").forEach(h=>{h.style.display="none",h.style.visibility="hidden",h.style.opacity="0",h.style.height="0",h.style.overflow="hidden"}),a.querySelectorAll("a, span, div, p").forEach(h=>{const j=h.textContent||"";(j.includes("TradingView")||j.includes("Track all markets"))&&(h.style.display="none",h.style.visibility="hidden",h.style.opacity="0")}),a.querySelectorAll("*").forEach(h=>{window.getComputedStyle(h).borderWidth!=="0px"&&(h.style.border="none")})};x();const l=setInterval(x,500);return setTimeout(()=>clearInterval(l),1e4),()=>{clearInterval(l),a&&a.contains(t)&&a.removeChild(t)}},[]),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex justify-between items-center px-1",children:e.jsx("p",{className:"text-sm font-semibold text-white uppercase",children:"MARKET NEWS"})}),e.jsxs("div",{className:"rounded-lg bg-[#0a0a0a] overflow-hidden",style:{border:"none"},children:[e.jsx("style",{children:`
                    /* Hide TradingView branding and copyright */
                    .tradingview-widget-copyright,
                    .tradingview-widget-copyright *,
                    [class*="tradingview-widget-copyright"],
                    a[href*="tradingview.com"] {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        overflow: hidden !important;
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    
                    /* Remove borders from widget */
                    .tradingview-widget-container,
                    .tradingview-widget-container__widget,
                    iframe[src*="tradingview"] {
                        border: none !important;
                        outline: none !important;
                        box-shadow: none !important;
                    }
                    
                    /* Hide any footer elements */
                    footer,
                    [class*="footer"],
                    [id*="footer"] {
                        display: none !important;
                    }
                `}),e.jsx("div",{ref:n,className:"w-full",style:{minHeight:"600px",border:"none"}})]})]})},re=()=>{const[n,s]=v.useState(!1),[a,t]=v.useState(!1),[o,i]=v.useState(null),[x,l]=v.useState(!1);v.useEffect(()=>{const u=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;l(u);const h=window.navigator.userAgent.toLowerCase(),j=/iphone|ipad|ipod/.test(h)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;t(j);let L=localStorage.getItem("pwa-install-prompt-dismissed");if(u){console.log("[PWA React] App already installed, skipping prompt");return}if(window.location.pathname.includes("/user/dashboard"),L==="true"){console.log("[PWA React] Prompt was dismissed, skipping");return}if(j){console.log("[PWA React] iOS detected, will show prompt in 1 second");const g=setTimeout(()=>{console.log("[PWA React] Showing iOS prompt"),s(!0)},1e3);return()=>clearTimeout(g)}const S=g=>{console.log("[PWA React] beforeinstallprompt event fired"),g.preventDefault(),i(g),setTimeout(()=>{console.log("[PWA React] Showing Android prompt"),s(!0)},1500)};return window.addEventListener("beforeinstallprompt",S),console.log("[PWA React] Component initialized, waiting for install prompt event"),()=>{window.removeEventListener("beforeinstallprompt",S)}},[]);const f=(u=!0)=>{s(!1),u&&localStorage.setItem("pwa-install-prompt-dismissed","true")},d=async()=>{if(a)f(!0);else if(o){o.prompt();const{outcome:u}=await o.userChoice;console.log(`User response: ${u}`),i(null),f(!0)}};return x||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#050505] border border-[#1fff9c] rounded-2xl p-6 max-w-md w-full shadow-xl",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex h-16 w-16 items-center justify-center rounded-2xl border border-[#1fff9c]/40 bg-[#041207] text-[#1fff9c] mb-4",children:e.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Install App"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add this app to your home screen for quick access"})]}),a?e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"1"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Tap the ",e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded bg-gray-700 text-white text-xs font-semibold",children:"Share"})," button at the bottom of your screen"]})]}),e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"2"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Scroll down and tap ",e.jsxs("span",{className:"inline-flex items-center justify-center px-2 py-1 rounded bg-gray-700 text-white text-xs font-semibold",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add to Home Screen"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 text-white",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-[#1fff9c] text-black font-semibold flex items-center justify-center text-sm",children:"3"}),e.jsxs("p",{className:"text-sm pt-0.5",children:["Tap ",e.jsx("span",{className:"inline-flex items-center justify-center px-2 py-1 rounded bg-gray-700 text-white text-xs font-semibold",children:"Add"})," to confirm"]})]})]}):e.jsx("div",{className:"mb-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Tap the button below to install this app on your device for a better experience."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>f(!0),className:"flex-1 px-4 py-2 rounded-xl border border-gray-600 text-gray-300 hover:bg-gray-800 transition-colors text-sm font-medium",children:"Maybe Later"}),e.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 rounded-xl bg-[#1fff9c] text-black hover:brightness-110 transition-colors text-sm font-semibold",children:a?"Got it!":"Install"})]})]})})},ie=()=>{const n=v.useRef(null);return v.useEffect(()=>{const s=n.current;if(!s)return;const a=s.getContext("2d");let t,o=[];const i=()=>{s.width=window.innerWidth,s.height=window.innerHeight};i(),window.addEventListener("resize",i);class x{constructor(){this.x=Math.random()*s.width,this.y=Math.random()*s.height,this.size=Math.random()*3+1,this.speed=Math.random()*2+.5,this.opacity=Math.random()*.5+.3,this.wind=Math.random()*.5-.25}update(){this.y+=this.speed,this.x+=this.wind+Math.sin(this.y*.01)*.5,this.y>s.height&&(this.y=-10,this.x=Math.random()*s.width),this.x>s.width?this.x=0:this.x<0&&(this.x=s.width)}draw(){a.beginPath(),a.arc(this.x,this.y,this.size,0,Math.PI*2),a.fillStyle=`rgba(255, 255, 255, ${this.opacity})`,a.fill()}}(()=>{const d=Math.floor(s.width*s.height/15e3);o=[];for(let u=0;u<d;u++)o.push(new x)})();const f=()=>{a.clearRect(0,0,s.width,s.height),o.forEach(d=>{d.update(),d.draw()}),t=requestAnimationFrame(f)};return f(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(t)}},[]),e.jsx("canvas",{ref:n,className:"fixed top-0 left-0 w-full h-full pointer-events-none",style:{background:"transparent",zIndex:0,position:"fixed",top:0,left:0,width:"100%",height:"100%"}})},oe=({user:n={},accountTabs:s=[],chartData:a={},watchlist:t=[],activity:o=[],openTrades:i=[],news:x=[],routes:l={}})=>{var k;const f=s.find(r=>r.id==="investing")||s[0]||{id:"investing",label:"Investing",balance:"$0.00",change:"+0.00%",isPositive:!0},d=s.find(r=>r.id==="pnl")||{id:"pnl",label:"PNL",balance:"$0.00",change:"+0.00%",isPositive:!0},u=s.find(r=>r.id==="wallet")||{id:"wallet",label:"Wallet Balance",balance:"$0.00",change:"+0.00%",isPositive:!0};n.total_balance?C(n.total_balance):f.balance||(k=s[0])!=null&&k.balance||u.balance;const h=d.balance||C(n.pnl||0),j=d.change||"+0.00%",L=d.isPositive??!0,S=n.buying_power??C(n.buying_power||0),g=n.pnl||d.raw_balance||0,p=typeof g=="number"?g:parseFloat(String(g).replace(/[^0-9.-]+/g,"")||"0")||0,b=["LIVE","1D","1W","1M","3M","YTD","1Y"],[c,N]=v.useState(!1),w=r=>{r.stopPropagation(),N(!c)};return e.jsxs("div",{className:"min-h-screen bg-black text-white px-2 sm:px-4 py-3 space-y-3 sm:space-y-4 w-full relative",children:[e.jsx(ie,{}),e.jsxs("div",{className:"relative",style:{zIndex:1},children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-[#00ff63] uppercase tracking-widest",children:"Smart Trader"}),e.jsx("h1",{className:"text-2xl font-bold text-white mt-0.5",children:n.greeting??`Welcome back, ${n.name??"Trader"}!`})]}),e.jsx(Q,{investingTab:f,walletTab:u,isBalanceHidden:c,onToggleBalanceVisibility:w}),e.jsx(Z,{profit:h,profitChange:j,profitIsPositive:L,isBalanceHidden:c}),e.jsx(X,{chartData:a,currentBalance:p,timeframes:b}),e.jsx(ee,{buyingPower:S,isBalanceHidden:c}),e.jsx(te,{watchlist:t}),e.jsx(se,{activity:o}),e.jsx(ae,{}),e.jsx(re,{})]})]})},P=document.getElementById("react-dashboard");if(P){const n=P.dataset.props?JSON.parse(P.dataset.props):{};Y.createRoot(P).render(e.jsx(oe,{...n}))}
